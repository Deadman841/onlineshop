<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>登录/注册</title>
    <style>
        .form-box {
            background-color: #f5f5f5;
            width: 400px;
            margin: 50px auto;
            border: 1px solid #ddd;
            padding: 30px;
            border-radius: 5px;
        }
        .tab {
            display: flex;
            margin-bottom: 20px;
        }
        .tab-btn {
            flex: 1;
            text-align: center;
            padding: 10px;
            background-color: #f5f5f5;
            border: none;
            cursor: pointer;
        }
        .tab-btn.active {
            background-color: #4CAF50;
            color: white;
        }
        input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
        body{
            background-image:url("img/2.jpg");
            background-size: cover;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: black;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        #mima {
            width: auto; /* 取消默认100%宽度，恢复复选框原大小 */
            margin: 10px 5px 10px 0; /* 仅右侧留小间距，避免超出表单 */
            vertical-align: middle; /* 与文字垂直居中对齐 */
                }
        .remember-label {
            display: inline-block; /* 让文字与复选框同行 */
            margin: 0; /* 取消默认块级margin */
            vertical-align: middle;
                }
    </style>
</head>
<body>
    <div class="form-box">
        <div class="tab">
            <button class="tab-btn active" onclick="showTab('login')">登录</button>
            <button class="tab-btn" onclick="showTab('register')">注册</button>
        </div>

        <div id="login" style="display: block;">
            <h3>用户登录</h3>
            <label for="loginName">姓名</label>
            <input class="cd" type="text" id="loginName" placeholder="请输入您的用户名（4-20位字母/数字）"/>
            <label for="loginPassword">密码</label>
            <input class="cd" type="password" id="loginPassword" placeholder="至少6位，包含字母和数字"/>
			<input id="mima" type="checkbox"/>
			<label class="remember-label" for="mima">记住密码</label>
            <button onclick="validateLogin()">登录</button>
        </div>

        <!-- 注册表单 -->
        <div id="register" style="display: none;">
            <h3>用户注册</h3>
            <label for="regName">姓名</label>
            <input class="cd" type="text" id="regName" placeholder="请输入您的用户名（4-20位字母/数字）"/>
            
            <label for="phone">手机号</label>
            <input class="cd" type="text" name="number" id="phone" placeholder="请输入11位手机号">
            
            <label for="email">邮箱（可选）</label>
            <input class="cd" id="email" name="email" type="email" placeholder="如：student@school.com"/>
            
            <label for="regPassword">密码</label>
            <input class="cd" type="password" id="regPassword" placeholder="至少6位，包含字母和数字"/>
            
            <label for="confirmPassword">确认密码</label>
            <input class="cd" type="password" id="confirmPassword" placeholder="请再次输入密码"/>
            <button onclick="validateRegister()">注册</button>
        </div>
    </div>

    <script>
        // 登录验证
        function validateLogin(){
            let name = document.getElementById("loginName");
            if(name.value.trim() === ""){
                alert("请输入姓名");
                name.focus();
                return false;
            }
            let nameReg = /^[a-zA-Z0-9]{4,20}$/;
            if(!nameReg.test(name.value.trim())){
                alert("用户名格式不正确，应为4-20位字母或数字");
                name.focus();
                return false;
            }
            let password = document.getElementById("loginPassword");
            let pasreg = /^[A-Za-z0-9]{6,16}$/;
            if(!pasreg.test(password.value.trim())){
                alert("密码格式不正确，请输入6-16位字母和数字");
                password.focus();
                return false;
            }
            alert("登录成功！跳转到首页");
			window.location.href = "index.html";
            return true;
        }

        // 注册验证
        function validateRegister(){
            // 用户名验证
            let name = document.getElementById("regName");
            if(name.value.trim() === ""){
                alert("请输入姓名");
                name.focus();
                return false;
            }
            let nameReg = /^[a-zA-Z0-9]{4,20}$/;
            if(!nameReg.test(name.value.trim())){
                alert("用户名格式不正确，应为4-20位字母或数字");
                name.focus();
                return false;
            }

            // 手机号验证
            let phone = document.getElementById("phone");
            if(phone.value.trim() === ""){
                alert("请输入手机号");
                phone.focus();
                return false;
            }
            let phoreg = /^1[3-9]\d{9}$/; // 更准确的手机号正则
            if(!phoreg.test(phone.value.trim())){
                alert("请输入正确的11位手机号码");
                phone.focus();
                return false;
            }

            // 邮箱验证（可选，所以为空时不验证）
            let email = document.getElementById("email");
            if(email.value.trim() !== ""){
                let reg = /^[A-Za-z0-9_]+@[A-Za-z0-9]+\.(com|cn|gov\.cn|org)$/;
                if(!reg.test(email.value.trim())){
                    alert("Email格式不正确");
                    email.focus();
                    return false;
                }
            }

            // 密码验证
            let password = document.getElementById("regPassword");
            if(password.value.trim() === ""){
                alert("请输入密码");
                password.focus();
                return false;
            }
            let pasreg = /^[A-Za-z0-9]{6,16}$/;
            if(!pasreg.test(password.value.trim())){
                alert("密码格式不正确，请输入6-16位字母和数字");
                password.focus();
                return false;
            }

            // 确认密码验证
            let confirmpassword = document.getElementById("confirmPassword");
            if(confirmpassword.value.trim() === ""){
                alert("请输入确认密码");
                confirmpassword.focus();
                return false;
            }
            if(confirmpassword.value.trim() !== password.value.trim()){
                alert("两次输入的密码不一致");
                confirmpassword.focus();
                return false;
            }

            // 所有验证通过
            alert("注册成功！");
			window.location.href = "index.html";
            return true;
        }

        // 切换登录/注册表单
        function showTab(tabName) {
            // 隐藏所有表单
            document.getElementById('login').style.display = 'none';
            document.getElementById('register').style.display = 'none';
            // 移除所有按钮active状态
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            // 显示选中表单+添加active状态
            document.getElementById(tabName).style.display = 'block';
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
    